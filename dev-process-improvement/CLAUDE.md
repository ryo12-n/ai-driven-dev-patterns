# プロジェクトルール: dev-process-improvement

## 概要
このリポジトリは「開発プロセス改善」を継続的に回すためのもの。
改善施策ごとに `initiatives/<施策名>/` フォルダを作り、L1・L2セッションで分担して進める。

## セッション構成

| セッション | ロール | 責務 |
|-----------|--------|------|
| L1 (マネージャー) | 調査・意思決定・計画・ゲート判定 | initiatives/ 内の proposal, plan, tasks, gate_review を管理 |
| L2 (ワーカー/実施) | タスク実行・作業記録・レポート・課題起票 | initiatives/ 内の work_log, work_report, issues を管理 |
| L2 (ワーカー/評価) | 評価計画・評価実施・レポート・課題起票 | initiatives/ 内の eval_plan, eval_report, issues を管理 |

## ファイル命名規則

- initiatives/ 内のファイルは番号付きプレフィックス（00〜08）で管理する
- 作業履歴（work_log）はタイムスタンプ付きで追記する
- 課題（issues）は連番IDを振る

## 禁止事項

- L2セッションが plan や gate_review を直接変更すること（L1の責務）
- L1セッションが work_log を直接編集すること（L2の責務）
- 施策フォルダの外にあるファイルへの無断変更
- フェーズゲートを通過していない施策の次フェーズ着手

## コマンド

- 新規施策開始: 「○○の改善施策を開始して」→ _template/ をコピーして initiatives/<施策名>/ を作成
- 状況確認: 「施策一覧を見せて」→ initiatives/ 内の全施策のステータスを一覧表示
- ゲート判定: 「○○のフェーズゲート判定をして」→ gate_review を更新

## ドキュメント整合性ルール

`.claude/rules/*.md`（AIルールファイル）が正の情報源（Source of Truth）。`docs/workflow.md` はその人間向け可視化。

**ルールファイルを変更した場合は、必ず `docs/workflow.md` も合わせて更新すること。**

## セッション終了時の気づき記録（collab-log）

協働スタイルや設計に関する気づきが生まれたセッションの終了時に、以下の手順で記録する。

1. **AIが要約を提示する** — そのセッションで生まれた気づきを箇条書きでまとめる
2. **人間が承認・修正する** — 不要なものを削除、表現を調整
3. **`docs/collab-log.md` に追記する** — フォーマットに従って記録

### 記録の対象

- ルール・workflow の改善につながる気づき
- 協働スタイル（確認の粒度・委譲のやり方など）の変化
- 次のトリアージで判断してほしい問い

### 記録しないもの

- 単発の技術的なQ&A
- その場で完結したタスクの細部
- 感想・褒め言葉（気づきに昇華できないもの）

### 蒸留後の扱い

トリアージでルール・docsに反映されたエントリは削除する。git履歴が証跡となる。
