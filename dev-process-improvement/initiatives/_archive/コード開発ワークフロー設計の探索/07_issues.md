# 課題メモ（施策内バッファ）: コード開発ワークフロー設計の探索

> **このファイルの役割**: 施策実施中に気づいた課題・知見・リスクの一時メモ置き場。
> 施策完了（または定期レビュー）時に `dev-process-improvement/プロセス改善_課題管理.csv` へ転記する

## 転記ルール

- 施策スコープ外・他の施策でも再発しうる課題 → **CSV に転記**
- 当施策内だけで完結する軽微な修正メモ → 転記不要（クローズ扱い）
- 転記済みの項目には `[転記済 ISS-XXX]` を末尾に追記する

---

## 未転記メモ

### [2026-03-01] 全ロール共通: テスト実行コマンドが未確定
- **種別**: 知見
- **内容**: `roles/` 配下の全7ロールおよび `_base/common.md` で、テスト実行コマンドが `<!-- TODO -->` 状態のまま。プロジェクト固有のCIスクリプトパスへの修正が未実施
- **対応方針（案）**: 後続施策「コード開発ワークフロー・ロール定義の実装」でプロジェクトのテスト実行方法を確定し、全ロールに反映する
- **関連タスク**: T-001
- **転記判断**: 転記不要（本施策の後続施策で対応する単一施策内の修正事項）

### [2026-03-01] ロール間タスク起票の具体的手順・テンプレートが未定義
- **種別**: 改善提案
- **内容**: 各ロールが他ロールへタスクを起票する際のファイル形式・配置先・テンプレートが未定義。common.md では「L1に報告」とのみ記載されており、ロール間の直接的な情報受け渡しプロトコルがない
- **対応方針（案）**: フェーズ2のT-007（ロール間連携プロトコル設計）で具体化する
- **関連タスク**: T-001, T-004
- **転記判断**: 転記不要（本施策のフェーズ2で対応予定の施策内課題）

### [2026-03-01] dev_manager ロールの新規定義が必要
- **種別**: 改善提案
- **内容**: コード開発ワークフローのオーケストレーションを担う dev_manager ロールが未定義。T-003 の分析で「必要」と判断。施策管理 L1 とは活動ディレクトリ・管理プロセスが異なるため独立ロールが必要
- **対応方針（案）**: 後続施策「コード開発ワークフロー・ロール定義の実装」で roles/dev_manager.md を作成する
- **関連タスク**: T-003, T-004
- **転記判断**: 転記不要（後続施策のスコープに含まれる実装タスク）

### [2026-03-01] 成果物配置パスの計画との不一致（評価時発見）
- **種別**: 知見
- **内容**: `01_plan.md` および `02_tasks.md` で成果物パスを `docs/design/dev-workflow-overview.md` と記載しているが、このパスが `dev-process-improvement/` からの相対パスなのか、リポジトリルートからの相対パスなのかが曖昧。実際のファイルはリポジトリルートの `docs/design/dev-workflow-overview.md` に配置されている。`dev-process-improvement/docs/design/` ディレクトリは存在しない
- **対応方針（案）**: フェーズ2のタスク記載時に、成果物パスがリポジトリルートからの相対パスであることを明記するか、`02_tasks.md` で統一表記を定める
- **関連タスク**: T-E01
- **転記判断**: 転記不要（本施策のフェーズ2で表記を統一すれば解消する施策内課題）

### [2026-03-01] TDD分離トリガーの判断基準が未定量化（評価時発見）
- **種別**: 知見
- **内容**: `dev-workflow-overview.md` セクション5.2で、TDD分離の発動条件を「複雑度が高い・セキュリティ要件が高い・カバレッジが低い」と定性的に記載しているが、dev_managerが実際に判断するための定量的閾値（例: 循環的複雑度の閾値、カバレッジの下限値）が未定義。`04_work_report.md` の申し送りでもフェーズ2での具体化が必要と記載されており、L2-workerも認識済み
- **対応方針（案）**: フェーズ2 T-006（シナリオ別詳細設計）で、TDD分離の判断基準を定量的に定義する。ただし、定量化が困難な場合は判断フローチャートとして整理する方式も検討
- **関連タスク**: T-E01
- **転記判断**: 転記不要（フェーズ2のT-006スコープ内で解消予定の施策内課題）

### [2026-03-01] optimizer・documentarian シナリオの詳細設計が含まれていない（フェーズ2評価時発見）
- **種別**: 知見
- **内容**: `dev-workflow-detail.md` は主要3シナリオ（新機能開発・バグ修正・リファクタリング）の詳細設計を含むが、`dev-workflow-overview.md` セクション2.3で定義された7つの起動パターンのうち、最適化・テスト拡充・ドキュメント整備の3パターンは詳細設計（sequence図・起動順序・入力/出力・分岐条件）がない。`01_plan.md` の成功基準は「主要3シナリオ」に限定しているため成功基準上は問題ないが、後続施策でdev_managerのロール定義を実装する際にこれらのシナリオの詳細フローが不足する可能性がある
- **対応方針（案）**: 後続施策「コード開発ワークフロー・ロール定義の実装」で、残3シナリオの詳細フローが必要になった場合に実装時に設計を補完する。主要3シナリオのパターンを踏襲すれば設計工数は軽微
- **関連タスク**: T-E03
- **転記判断**: 転記不要（後続施策のスコープ内で必要に応じて対応する施策内課題）

### [2026-03-01] カバレッジ閾値（50% vs 70%）の使い分けが未説明（フェーズ2評価時発見）
- **種別**: 知見
- **内容**: `dev-workflow-detail.md` セクション2.2ではTDD分離トリガーとして「既存テストカバレッジ < 50%」、セクション3.3ではリファクタリング前の安全ネットテスト追加条件として「カバレッジ < 70%」を定義している。両閾値は異なる目的（TDD分離判断 vs リファクタリング安全ネット追加判断）で使われており論理的に矛盾はないが、2つの閾値が異なるコンテキストで登場するため、実装者が混同するリスクがある
- **対応方針（案）**: 後続施策でロール定義に閾値を組み込む際に、TDD分離（50%: テストが著しく不足している場合の独立テスト設計）とリファクタリング安全ネット（70%: 振る舞い保証のための十分なカバレッジ）の使い分けを各ロール定義内で明記する
- **関連タスク**: T-E03
- **転記判断**: 転記不要（後続施策のロール定義実装時に対応する施策内課題）
