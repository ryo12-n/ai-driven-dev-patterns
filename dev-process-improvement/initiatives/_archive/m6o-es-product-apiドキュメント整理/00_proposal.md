# 改善施策提案: m6o-es-product-api ドキュメント整理

## 背景・課題

m6o-es-product-api リポジトリの `my_work/` 配下に、設計書・開発プロセス資料・参考資料・作業履歴が混在しており、以下の問題がある。

- AI（Claude）が参照すべき資料（ルールファイル・手順・ツール）と人間向け資料の区別がなく、どのファイルを参照すべきか曖昧
- `.claude/` 等の AI 用ディレクトリ標準が導入されておらず、Claude がコンテキストを適切に取得できない状態
- 作業履歴・参考資料・現役の設計書が同一階層に混在し、発見性・保守性が低い

## 目標

1. AI が参照すべき資料と人間向け資料を役割ごとに分類した**ディレクトリ構造の設計**を完成させる
2. 既存の `my_work/` 配下の全ファイルについて**移動先マッピング**（現在パス → 新パス）を作成する
3. AI 資料を Source of Truth とし、人間向けドキュメントをそこへ同期させる方針を明文化する

## スコープ

### やること
- `my_work/` 配下の全ファイルを棚卸しし、AI用/人間用/参考資料/アーカイブの区分で分類する
- `.claude/` 配下のディレクトリ構造（`rules/` 等）の役割を定義する
- 新ディレクトリ構造の設計書を作成する
- 既存ファイルの移動先マッピング表を作成する

### やらないこと
- 実際のファイル移動・リネーム（別施策として実施）
- 人間向けドキュメントの新規作成（設計完了後に別途実施）
- m6o-es-product-api のソースコード変更

## 期待される効果

- Claude が適切なコンテキストファイルを自動参照できるようになり、作業精度が向上する
- 新しい作業開始時にどこにファイルを置くべきかが明確になる
- AI 資料を正の情報源（Source of Truth）とし、人間向けドキュメントとの同期基準が確立される

## リスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 分類が曖昧なファイルの扱いに迷う | 低 | 「主な利用者が AI か人間か」を判断軸とし、迷う場合は AI 用に倒す |
| 設計後の実際の移動コストが高い | 低 | 本施策はマッピング設計のみのため、移動は別施策で段階的に実施 |

## 壁打ちの背景

- **スコープ限定（設計のみ）**: 実際のファイル移動は別施策とし、本施策は設計・マッピング作成のみに集中する。移動は後続施策で段階的に実施する判断とした。
- **`rules/` 命名継続**: Claude Code 標準（`commands/` 等）ではなく、このプロジェクトで確立している `.claude/rules/` 命名規則を m6o-es-product-api にも適用する。
- **AI 資料を Source of Truth に**: `プロセス改善/` 配下の資料は AI 用として整理し、そこから人間向けの概要ドキュメントを派生させる。AI 用資料が先に整備されることを優先する。
- **`プロセス改善/tools/` は AI 用**: Claude が使用するシェルスクリプト群のため、AI 用ディレクトリとして扱う。
- **`PoC実装メモリバンク` は参考資料へ**: 過去実績として参考資料用ディレクトリに格納する。現役の設計書とは分離する。
- **`my_work/` の性質**: product_image マイクロサービス化に関する参考資料・作業履歴の集積。

## 備考・設計パターン

本施策で設計するディレクトリ構造のイメージ（詳細は L2 が調査・設計）:

```
m6o-es-product-api/
├── .claude/
│   ├── rules/          # AI 向けルール・コンテキスト（Source of Truth）
│   └── tools/          # Claude が使用するスクリプト類
├── docs/               # 人間向けドキュメント（AI 資料から同期）
│   ├── design/         # 設計書
│   └── process/        # プロセス・ガイド
└── refs/               # 参考資料・過去実績・アーカイブ
```

---
**起票者**: L1
**起票日**: 2026-02-27
**ステータス**: 承認済
