# タスクリスト: コード開発ワークフロー設計の探索

## 凡例
- ステータス: ⬜ 未着手 / 🔄 進行中 / ✅ 完了 / ⛔ ブロック
- 優先度: 🔴 高 / 🟡 中 / 🔵 低

## フェーズ1 タスク（L2-worker 担当）

### T-001: 既存7ロールの開発ワークフロー適用性分析

| 項目 | 内容 |
|------|------|
| **やること** | `roles/` 配下の7ロール（feature_builder, test_writer, reviewer, bug_fixer, refactorer, optimizer, documentarian）と `_base/common.md` を読み、各ロールの開発ワークフローへの適合度を分析する |
| **分析観点** | ①各ロールの現状の責務と作業フロー ②開発ワークフローへの適合度（高/中/低）と判断理由 ③ワークフローに組み込む場合に必要な修正点 ④ロール間の依存関係・連携ポイント |
| **完了条件** | 7ロール全てについて分析観点①〜④が整理されている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

### T-002: TDD方式での実装・テスト役割分離の評価

| 項目 | 内容 |
|------|------|
| **やること** | feature_builder（実装担当）と test_writer（テスト担当）を分離して連携させるTDD方式の有効性を評価する |
| **評価観点** | ①メリットの整理（品質向上・独立検証・専門性活用など） ②デメリットの整理（コンテキスト切替コスト・コミュニケーション負荷など） ③TDD分離が有効なケース（複雑なロジック・セキュリティ要件等）と不要なケース（単純変更等）の分類 ④推奨方針（常に分離/条件付き分離/分離しない） |
| **完了条件** | 評価観点①〜④が整理され、推奨方針が明記されている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

### T-003: 不足ロールの要件整理

| 項目 | 内容 |
|------|------|
| **やること** | 開発ワークフローに必要だが現在 `roles/` に定義されていないロールを特定し、要件を整理する |
| **検討対象** | ①設計者ロール（designer）: 現在 openspec 内に暗黙的に存在する設計責務を独立ロール化する必要性と責務案 ②開発マネージャーロール（dev_manager）: 施策管理 L1 とは別に、コード開発セッションのオーケストレーションを担う必要性と責務案 ③その他: 7ロール+上記2ロール以外に不足しているロール候補の有無 |
| **完了条件** | 検討対象①〜③について必要性判断（必要/不要/要検討）と、必要と判断したロールの責務案が記載されている |
| **優先度** | 🟡 |
| **ステータス** | ⬜ |

---

### T-004: コード開発ワークフロー概念設計の作成

| 項目 | 内容 |
|------|------|
| **やること** | T-001〜T-003 の分析結果を統合し、コード開発セッションのワークフロー概念設計を作成する |
| **成果物** | `docs/design/dev-workflow-overview.md` |
| **含めるべき内容** | ①mermaid 図を含むワークフロー全体像（どのロールがどの順序で連携するか） ②施策管理ワークフロー（L1/L2）との差異説明 ③ロール間のデータフロー（各ロールが何を入力し何を出力するか） ④T-001〜T-003 の分析結果サマリー |
| **完了条件** | `docs/design/dev-workflow-overview.md` が作成され、含めるべき内容①〜④が全て含まれている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

### T-005: `07_issues.md` 未転記課題の確認・転記

| 項目 | 内容 |
|------|------|
| **やること** | `07_issues.md` の未転記課題を確認し、施策をまたぐ課題を `プロセス改善_課題管理.csv` へ転記する |
| **完了条件** | 全課題に `[転記済 ISS-XXX]` または「転記不要」の判断が付いている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

## フェーズ1 タスク（L2-evaluator 担当）

### T-E01: フェーズ1 成果物の評価

| 項目 | 内容 |
|------|------|
| **やること** | `04_work_report.md` と `docs/design/dev-workflow-overview.md` を評価し、`06_eval_report.md` に記載する |
| **評価観点** | ①概要設計の網羅性（4つの評価項目が十分にカバーされているか） ②分析の整合性（ロール評価とワークフロー設計が矛盾していないか） ③後続施策へのインプット十分性（「コード開発ワークフロー・ロール定義の実装」に必要な情報が揃っているか） |
| **完了条件** | `06_eval_report.md` にフェーズ1の評価結果が記載されている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

### T-E02: 評価中に発見した課題の転記

| 項目 | 内容 |
|------|------|
| **やること** | 評価中に新たに発見した課題を `07_issues.md` へ起票し、施策をまたぐ課題を `プロセス改善_課題管理.csv` へ転記する |
| **完了条件** | 全課題に `[転記済 ISS-XXX]` または「転記不要」の判断が付いている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

## フェーズ2 タスク（L2-worker 担当）

### T-006: 主要シナリオ別ワークフロー詳細設計

| 項目 | 内容 |
|------|------|
| **やること** | フェーズ1の概要設計をベースに、主要3シナリオの詳細ワークフローを設計する |
| **対象シナリオ** | ①新機能開発シナリオ（feature_builder + test_writer + reviewer 中心） ②バグ修正シナリオ（bug_fixer + test_writer + reviewer 中心） ③リファクタリングシナリオ（refactorer + reviewer + test_writer 中心） |
| **含めるべき内容** | 各シナリオについて: mermaid sequence 図、ロールの起動順序、各ステップの入力/出力、分岐条件（レビュー不合格時の差し戻しフロー等） |
| **完了条件** | 3シナリオ全てについて mermaid sequence 図を含む詳細フローが定義されている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

### T-007: ロール間連携プロトコル設計

| 項目 | 内容 |
|------|------|
| **やること** | ロール間のタスク引き渡し・成果物受け渡し・エスカレーション手順を設計する |
| **設計項目** | ①タスクの引き渡し方法（ファイルベース/メッセージベース/共有ステート） ②成果物の受け渡し形式（ファイルパス・内容の規約） ③ブロッカー発生時のエスカレーション手順（マネージャーへの通知方法） ④コンテキスト共有の仕組み（共有ファイル・ログ形式） |
| **完了条件** | 設計項目①〜④が定義されている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

### T-008: 既存ロール修正提案の作成

| 項目 | 内容 |
|------|------|
| **やること** | フェーズ1の分析結果とフェーズ2の詳細設計を踏まえ、既存ロール定義への修正提案を作成する。新規ロールが必要な場合は要件定義を含む |
| **成果物** | `docs/design/dev-workflow-detail.md`（T-006, T-007 の内容と統合して1ファイルにまとめる） |
| **含めるべき内容** | ①各既存ロールの修正内容・修正理由・影響範囲 ②新規ロールの要件定義（フェーズ1で「必要」と判断されたもの） ③`_base/common.md` への修正提案（開発ワークフロー対応） |
| **完了条件** | `docs/design/dev-workflow-detail.md` が作成され、T-006〜T-008 の全内容が含まれている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

### T-009: `07_issues.md` 未転記課題の確認・転記

| 項目 | 内容 |
|------|------|
| **やること** | `07_issues.md` の未転記課題を確認し、施策をまたぐ課題を `プロセス改善_課題管理.csv` へ転記する |
| **完了条件** | 全課題に `[転記済 ISS-XXX]` または「転記不要」の判断が付いている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

## フェーズ2 タスク（L2-evaluator 担当）

### T-E03: フェーズ2 成果物の評価

| 項目 | 内容 |
|------|------|
| **やること** | `04_work_report.md`（フェーズ2分）と `docs/design/dev-workflow-detail.md` を評価し、`06_eval_report.md` に記載する |
| **評価観点** | ①詳細設計の実装可能性（後続施策でロール定義ファイルに落とし込めるレベルか） ②ロール修正提案の妥当性（既存ロールの責務を不当に変更していないか） ③3シナリオの網羅性と一貫性 |
| **完了条件** | `06_eval_report.md` にフェーズ2の評価結果が記載されている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---

### T-E04: 評価中に発見した課題の転記

| 項目 | 内容 |
|------|------|
| **やること** | 評価中に新たに発見した課題を `07_issues.md` へ起票し、施策をまたぐ課題を `プロセス改善_課題管理.csv` へ転記する |
| **完了条件** | 全課題に `[転記済 ISS-XXX]` または「転記不要」の判断が付いている |
| **優先度** | 🔴 |
| **ステータス** | ⬜ |

---
**作成者**: L1
**最終更新**: 2026-03-01
