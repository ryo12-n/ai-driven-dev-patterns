# 評価計画: openspec-code-trial

## 壁打ちフェーズ [2026-02-28 16:00]

### 理解のサマリー
- 評価の目的: 実施ワーカー（L2-worker）が openspec-code-trial 施策で行った成果物の品質・完遂度を客観的に評価し、L1 のゲート判定材料を提供する
- 評価スコープ: 4観点（Go コード品質、openspec サイクル完遂度、specs とコードの整合性、プロセス知見の網羅性）+ 01_plan.md の成功基準4項目の達成度
- 完了条件: 05_eval_plan.md、06_eval_report.md、07_issues.md が完成し、CSV 転記が完了していること

### 前提条件チェック
- [x] 評価対象（04_work_report.md）の完成度: 十分（3観点すべて具体的に記載済み、タスク実績テーブル・成果物一覧・所感も含む）
- [x] 評価基準（01_plan.md の成功基準）の明確さ: 評価可能（4項目が定量的・定性的に定義されている）
- [x] 評価に必要なツール・アクセス権限: 確認済み（Go 1.24.7 でビルド・テスト実行可能。全対象ファイルにアクセス可能）

### 不明点・確認事項
なし

### L1 確認結果
確認事項なし：評価開始

---

## 評価対象

- `src/` の Go ソースコード（main.go, parser/parser.go, parser/parser_test.go, go.mod）
- `openspec/changes/archive/2026-02-28-add-sample-go-cli/` の openspec 成果物一式
- `openspec/specs/md-heading-cli/spec.md`（マージ済み main spec）
- `04_work_report.md`（プロセス知見）
- `03_work_log.md`（作業履歴）
- `07_issues.md`（課題メモ）

## 評価項目

### 観点1: Go コードの品質

| # | 評価項目 | 評価方法 | 判定基準（合格ライン） |
|---|---------|---------|---------------------|
| 1-1 | ビルド成功 | `go build ./...` を実行 | エラーなしでビルド成功 |
| 1-2 | テスト全パス | `go test ./... -v` を実行 | 全テストが PASS |
| 1-3 | コード構造 | ファイル構成・パッケージ分離を確認 | main.go と parser パッケージが適切に分離 |
| 1-4 | 外部依存なし | go.mod を確認 | 標準ライブラリのみ |
| 1-5 | テストカバレッジ | テストケースと spec シナリオの対応を確認 | spec の全シナリオに対応するテストが存在 |

### 観点2: openspec サイクルの完遂度

| # | 評価項目 | 評価方法 | 判定基準（合格ライン） |
|---|---------|---------|---------------------|
| 2-1 | change 成果物一式 | アーカイブディレクトリの構成確認 | .openspec.yaml, proposal.md, specs/, design.md, tasks.md が存在 |
| 2-2 | delta spec マージ | openspec/specs/ の内容確認 | delta spec の全 Requirements が main spec に反映 |
| 2-3 | アーカイブ完了 | archive/ ディレクトリの確認 | 命名規則に従いアーカイブされている |
| 2-4 | サイクル全ステップ実施 | 03_work_log.md の記録確認 | new, continue, apply, verify, archive の実施記録がある |

### 観点3: specs とコードの整合性

| # | 評価項目 | 評価方法 | 判定基準（合格ライン） |
|---|---------|---------|---------------------|
| 3-1 | CLI 引数によるファイル指定（3シナリオ） | main.go のコードと spec を突合 | 正常指定・引数なし・ファイル不在の3シナリオが実装済み |
| 3-2 | マークダウン見出しの解析（3シナリオ） | parser.go のコードと spec を突合 | 複数レベル・非見出し除外・コードブロック除外の3シナリオが実装済み |
| 3-3 | 見出し一覧の出力形式（2シナリオ） | main.go の出力処理と spec を突合 | インデント付き出力・見出しなしの2シナリオが実装済み |

### 観点4: プロセス知見の網羅性

| # | 評価項目 | 評価方法 | 判定基準（合格ライン） |
|---|---------|---------|---------------------|
| 4-1 | specs の有効性 | 04_work_report.md の該当セクション確認 | 結論・根拠・改善点を含む具体的な記載がある |
| 4-2 | apply の改善点 | 04_work_report.md の該当セクション確認 | 結論・実例・改善点を含む具体的な記載がある |
| 4-3 | ボトルネック | 04_work_report.md の該当セクション確認 | 各フェーズの負荷分析とボトルネック特定がある |

### 成功基準（01_plan.md）に対する達成度

| # | 成功基準 | 評価方法 | 判定基準 |
|---|---------|---------|---------|
| S-1 | openspec の変更サイクルが1回完遂 | 成果物存在とアーカイブ完了の確認 | 全ステップの成果物が存在しアーカイブ完了 |
| S-2 | src/ に Go アプリが存在し go build / go test 成功 | ビルド・テスト実行 | エラーなし |
| S-3 | openspec/specs/ に delta spec がマージ | spec ファイル内容確認 | 全 Requirements が反映 |
| S-4 | プロセス知見が 04_work_report.md に記録 | 3観点の記載確認 | 3観点すべてに具体的記載 |

## 評価スケジュール
- 壁打ちフェーズ → 評価計画作成 → 4観点の評価実施 → 成功基準達成度判定 → レポート作成 → 課題起票・CSV転記

## 前提・制約
- Go 1.24.7 が利用可能（実施ワーカーの環境と同一）
- openspec CLI は未インストール（手動実施の結果を評価する）
- 評価対象の成果物（03, 04）は読み取りのみ。直接修正しない

---
**作成者**: L2（評価）
**作成日**: 2026-02-28
