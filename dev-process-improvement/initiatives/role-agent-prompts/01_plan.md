# 実施計画: ロール別エージェントプロンプト整備

## フェーズ構成

| フェーズ | 内容 | 成功基準 |
|---------|------|----------|
| 1 | 現状分析・パターン抽出・ドラフト作成 | 3ロール分のドラフトファイルが `drafts/` に作成され、分析根拠が work_log に記録されている |
| 2 | ゲートレビュー通過後に `.claude/rules/` へ反映 | 既存ファイルが改善版で置き換えられ、paths: フロントマターが維持されている |

## 成功基準（全体）

1. `drafts/l1-manager_v2.md` / `l2-worker_v2.md` / `l2-evaluator_v2.md` が作成されている
2. 各ドラフトが以下の要素を含んでいる:
   - セッション開始時のチェックリストまたは初動手順
   - 典型的な作業フローの具体的な手順例（ファイル名・記述例を含む）
   - 判断が迷ったときの停止・エスカレーション手順（既存の停止ルールの強化）
3. L2-evaluator が既存ルールとの整合性を評価し、矛盾がないことを確認している

## リソース・前提条件

- 参照元: `refs/ai-driven-development-poc/.claude/roles/*.md` および `base_prompt.md`
- 改善対象: `.claude/rules/l1-manager.md`, `l2-worker.md`, `l2-evaluator.md`
- フェーズ2はゲートレビュー通過後に別セッションで実施する

## リスクと対策

| リスク | 発生確率 | 影響 | 対策 |
|--------|---------|------|------|
| ドラフトが過長になり実用性が下がる | 中 | 中 | 各ファイル200行以内を目安とし、評価観点に含める |
| 既存ルールとの矛盾 | 低 | 高 | L2-evaluatorが整合性チェックを評価項目に明示する |
| L2がスコープ外のファイル（triage.md等）を改善しようとする | 低 | 低 | 02_tasks.md に対象ファイルを明示してスコープを限定する |

---
**作成者**: L1
**作成日**: 2026-02-23
**最終更新**: 2026-02-23
