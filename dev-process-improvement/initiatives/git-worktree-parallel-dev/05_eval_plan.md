# 評価計画: git worktree による Claude 並列開発の標準化

## 壁打ちフェーズ [2026-03-02 14:00]

### 理解のサマリー
- 評価の目的: 実施ワーカーが Stage 2（独立タスクの並列化）として実装した成果物が、01_plan.md の成功基準 1〜5 をすべて満たしているかを客観的に評価する
- 評価スコープ: 実施ワーカーの成果物 7 ファイル（dev_manager.md 更新、common.md 更新、parallel-dev.md 新規、sessions/_template/ 3 ファイル更新、docs/git-worktree-guideline.md 新規）および既存設計書 6 ファイルとの整合性
- 完了条件: E-001〜E-004 の全タスクが完了し、05_eval_plan.md に評価計画、06_eval_report.md に評価レポートが作成されていること

### 前提条件チェック
- [x] 評価対象（04_work_report.md）の完成度: 十分（T-001〜T-007 の全7タスクが完了、成果物一覧・課題・所感が記載済み）
- [x] 評価基準（01_plan.md の成功基準）の明確さ: 評価可能（成功基準 1〜5 が具体的に定義されている）
- [x] 評価に必要なツール・アクセス権限: 確認済み（Read / Grep / Glob ツールで全成果物・設計書を読み取り可能）

### 不明点・確認事項
- なし

### L1 確認結果
確認事項なし：評価開始

---

## 評価対象

実施ワーカー（L2-worker）が作成・更新した以下の成果物:

| # | 成果物 | パス | 操作 |
|---|--------|------|------|
| 1 | dev_manager ロール定義 | `roles/dev_manager.md` | 更新（セクション4拡張: 4.1〜4.4追加） |
| 2 | 全ロール共通ルール | `roles/_base/common.md` | 更新（セクション8新規追加） |
| 3 | 並列開発ルール | `.claude/rules/parallel-dev.md` | 新規作成 |
| 4 | セッション計画テンプレート | `sessions/_template/plan.md` | 更新（並列実行計画セクション追加） |
| 5 | セッションログテンプレート | `sessions/_template/log.md` | 更新（並列実行ログセクション追加） |
| 6 | セッションレポートテンプレート | `sessions/_template/report.md` | 更新（並列実行統合レポートセクション追加） |
| 7 | worktree 並列開発ガイドライン | `docs/git-worktree-guideline.md` | 新規作成 |

## 評価項目

| # | 評価項目 | 評価方法 | 判定基準（合格ライン） |
|---|---------|---------|---------------------|
| E-001-SC1 | 成功基準1: dev_manager に並列オーケストレーションロジックが含まれ、判断基準と手順が明文化されている | `roles/dev_manager.md` のセクション4.1〜4.4 を精読し、判断基準・手順・マージ戦略・フォールバックの有無を確認 | (a) 並列起動の判断基準が明文化されている (b) 具体的な手順が記載されている (c) フォールバック条件がある |
| E-001-SC2 | 成功基準2: 並列実行対象のロール（最低2つ以上）が特定され、`isolation: worktree` 設定が適用されている | T-001 の分析結果と各成果物を確認し、並列対象ロールの特定状況と isolation 設定の有無を確認 | (a) 2つ以上のロールが並列対象として特定されている (b) isolation: worktree 設定が適用されているか、または設定方法が明記されている |
| E-001-SC3 | 成功基準3: セッションディレクトリ構造が並列実行に対応し、複数ロールの成果物を正しく管理できる | `sessions/_template/` の3ファイルを精読し、並列実行時の成果物管理構造を確認 | (a) 並列セッション用の構造ガイドが追加されている (b) 並列ロールごとの成果物格納ルールが明確化されている (c) 統合レポートの書き方が定義されている |
| E-001-SC4 | 成功基準4: マージ戦略とコンフリクト解決手順が `.claude/rules/` に明文化されている | `.claude/rules/parallel-dev.md` のセクション3を精読 | (a) マージ手順が具体的に記載されている (b) コンフリクト解決手順が定義されている (c) マージ後のテスト方針がある |
| E-001-SC5 | 成功基準5: 既存の逐次実行ワークフローとの後方互換性が維持されている（並列化はオプトイン方式） | 変更された全ファイルを精読し、既存の逐次実行パスへの影響を確認 | (a) 並列起動がオプトイン方式で、デフォルトは逐次起動 (b) 既存のセクション/構造が破壊されていない (c) 並列関連の追加が既存フローに干渉していない |
| E-002 | 後方互換性の検証 | `roles/dev_manager.md` の既存セクション（1〜3, 5〜6）、`roles/_base/common.md` の既存セクション（1〜7）、`sessions/_template/` の既存構造を精読し、変更前後の比較を行う | 既存の逐次実行パスが一切変更されておらず、並列化を使用しない場合に既存と同一の動作が保証される |
| E-003 | 設計書との整合性確認 | `docs/design/` の6ファイル（dev-workflow-detail.md, session-flow-foundations.md, session-flow-scenarios.md, session-flow-advanced.md, dev-workflow-overview.md, session-operation-flow.md）と変更内容を照合 | 変更内容と設計書の間に矛盾がない。用語・概念・フロー定義が一貫している |
| E-004 | 課題起票と CSV 転記 | 評価中に発見した課題を 07_issues.md に起票し、施策をまたぐ課題を CSV に転記する | 全課題に `[転記済 ISS-XXX]` または「転記不要」の判断が付いている |

## 評価スケジュール
- E-001（SC1〜SC5）: 成功基準の達成度評価
- E-002: 後方互換性の検証
- E-003: 設計書との整合性確認
- E-004: 課題起票と CSV 転記

## 前提・制約
- 評価は成果物のドキュメント品質・内容の妥当性・整合性を対象とする（実際の worktree 環境での動作テストはスコープ外）
- 設計書（`docs/design/` 6ファイル）を正として、変更内容との整合性を判断する
- 前回施策（git-worktree-standardization）のガイドライン（`dev-process-improvement/docs/git-worktree-guideline.md`）と今回の root レベルガイドライン（`docs/git-worktree-guideline.md`）の関係も評価対象に含める

---
**作成者**: L2（評価）
**作成日**: 2026-03-02
