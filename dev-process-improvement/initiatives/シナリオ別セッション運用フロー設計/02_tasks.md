# タスクリスト: シナリオ別セッション運用フロー設計

## 凡例
- ステータス: ⬜ 未着手 / 🔄 進行中 / ✅ 完了 / ⛔ ブロック
- 優先度: 🔴 高 / 🟡 中 / 🔵 低

## 実施ワーカー（l2-worker）タスク

### Phase 1: セッションフレームワーク & ディスパッチャー設計

| ID | タスク | 完了条件 | 優先度 | ステータス |
|----|--------|---------|--------|-----------|
| T-001 | セッションライフサイクルモデルを設計する。セッションの汎用的な状態遷移（起動→初期化→実行→レビュー→完了）を定義し、mermaid 状態図を作成する。各ステージの定義（何が起きるか、遷移条件、エラー時の動作）を記述する | mermaid 状態図が作成されている。各ステージ（最低5ステージ）に定義・遷移条件・エラー時動作が記載されている | 🔴 | ✅ |
| T-002 | セッションディスパッチャー/ルーターを設計する。人間の意図を5シナリオに分類する基準を定義し、分類フロー図を mermaid で作成する。セッション型レジストリ（シナリオ→起動するロール構成のマッピング表）を作成する | 意図分類基準（入力パターン→シナリオの対応表）が定義されている。分類フロー図（mermaid）が作成されている。セッション型レジストリ（5シナリオ + 該当なしケース）が定義されている | 🔴 | ✅ |
| T-003 | 人間エントリーポイントと dev_manager エントリーポイントを再設計する。L1→dev_manager の結合を外し、人間→ディスパッチャー→dev_manager の直接エントリーに変更する。入力形式・起動トリガー・初期コンテキスト設定を定義する | 人間からの入力形式が定義されている。dev_manager の起動トリガーが L1 非依存で定義されている。施策管理（dev-process-improvement）と開発フローの責務分界が明記されている | 🔴 | ✅ |
| T-004 | Phase 1 の設計内容を `docs/design/session-operation-flow.md` に統合する。ドキュメントのセクション1〜4（概要、ライフサイクルモデル、ディスパッチャー/ルーター、エントリーポイント仕様）を作成する | `docs/design/session-operation-flow.md` が存在し、セクション1〜4 が記載されている。mermaid 図が正しく埋め込まれている | 🔴 | ✅ |

### Phase 2: シナリオ別セッションフロー設計

| ID | タスク | 完了条件 | 優先度 | ステータス |
|----|--------|---------|--------|-----------|
| T-005 | シナリオ1「要件定義〜設計」のセッションフローを設計する。ユーザー要求を要件に落とし込み設計ドキュメントを作成するフローを定義する。起動ロール構成・mermaid シーケンス図・入出力仕様・分岐条件（正常系・異常系・品質ゲート）を記述する | mermaid シーケンス図が作成されている。ロール構成表（起動ロール・タイミング・依存関係）がある。入出力仕様が定義されている。既存ロールで不足する能力がある場合は明記されている | 🔴 | ✅ |
| T-006 | シナリオ2「実施計画作成〜開発実施（軽量レビュー込み）」のセッションフローを設計する。設計をもとに計画→ロール分担開発→セッション内レビューのフローを定義する。reviewer ロールの起動タイミング・レビュー範囲を含める | mermaid シーケンス図が作成されている。ロール構成表がある。軽量レビュー（reviewer ロール）の起動タイミング・レビュー範囲・フィードバックフローが定義されている。`dev-workflow-detail.md` の3シナリオ設計との整合性が確認されている | 🔴 | ✅ |
| T-007 | シナリオ3「独立評価（オプション）」のセッションフローを設計する。開発セッションとは別コンテキストで客観的に評価する独立セッションのフローを定義する。開発セッションからの情報引き渡し方法を含める | mermaid シーケンス図が作成されている。開発セッション→評価セッションのコンテキスト引き渡し方法が定義されている。評価観点・判定基準が記述されている | 🔴 | ✅ |
| T-008 | シナリオ4「ドキュメント整合性」のセッションフローを設計する。既存ドキュメントを実態（コード・設計・運用）と照合して整合性を合わせるフローを定義する | mermaid シーケンス図が作成されている。ロール構成表がある。整合性チェック対象（コード⇔設計、設計⇔運用等）の分類が定義されている | 🟡 | ✅ |
| T-009 | シナリオ5「リファクタリング・最適化」のセッションフローを設計する。コード品質改善・パフォーマンス最適化のフローを定義する | mermaid シーケンス図が作成されている。ロール構成表がある。リファクタリングの品質ゲート（テスト通過・パフォーマンス基準等）が定義されている。`dev-workflow-detail.md` のリファクタリングシナリオとの整合性が確認されている | 🟡 | ✅ |
| T-010 | ハイブリッドレビュー方式の仕様を策定する。軽量レビュー（セッション内 reviewer）と独立評価（別セッション）の使い分け基準を定量的/チェックリスト形式で定義する。判定フロー図を mermaid で作成する | 判定基準テーブル（条件→軽量/独立の対応）が作成されている。判定フロー図（mermaid）が作成されている。具体的な判定例（この変更ならどちらか）が3つ以上記載されている | 🔴 | ✅ |
| T-011 | Phase 2 の設計内容を `docs/design/session-operation-flow.md` に統合する。セクション5〜10（5シナリオ + ハイブリッドレビュー方式）を追加する | `session-operation-flow.md` のセクション5〜10 が記載されている。全5シナリオに mermaid 図が含まれている | 🔴 | ✅ |

### Phase 3: 横断的関心事 & 統合

| ID | タスク | 完了条件 | 優先度 | ステータス |
|----|--------|---------|--------|-----------|
| T-012 | 横断的関心事を設計する。セッション間の状態永続化（どの情報を永続化するか）、コンテキスト引き継ぎ（セッション間でどう情報を渡すか）、エラー回復（セッション中断時の復旧方法）を設計する | 状態永続化の対象・方式が定義されている。セッション間コンテキスト引き継ぎプロトコルが定義されている。エラー回復シナリオ（最低3パターン）が記述されている | 🔴 | ✅ |
| T-013 | 既存設計ドキュメントとの統合マッピングを作成する。`dev-workflow-overview.md` と `dev-workflow-detail.md` の各セクションと本設計の対応関係をデザインデルタ表として整理する。変更が必要な箇所・追加が必要な箇所を明示する | デザインデルタ表（既存セクション→本設計の対応→必要な変更アクション）が作成されている。各既存ドキュメントのセクションがカバーされている | 🔴 | ✅ |
| T-014 | `docs/design/session-operation-flow.md` を最終整備する。セクション11〜13（横断的関心事、統合マッピング、まとめと次ステップ）を追加する。全体の構成を確認し、目次・相互参照を整備する | ドキュメント全体（セクション1〜13）が揃っている。各セクション間の相互参照が整合している。「次ステップ」セクションに後続施策へのリンクが記載されている | 🔴 | ✅ |
| T-015 | `07_issues.md` の未転記課題を確認し、施策をまたぐ課題を `プロセス改善_課題管理.csv` へ転記する | 全課題に `[転記済 ISS-XXX]` または「転記不要」の判断が付いている | 🔴 | ✅ |

## 評価ワーカー（l2-evaluator）タスク

| ID | タスク | 完了条件 | 優先度 | ステータス |
|----|--------|---------|--------|-----------|
| E-001 | 成功基準に基づく評価を実施する（01_plan.md の成功基準 7項目） | 評価結果テーブルに全7項目の判定（達成/一部達成/未達成）と根拠が記載されている | 🔴 | ⬜ |
| E-002 | 設計の網羅性・整合性を評価する。5シナリオの設計粒度の均一性、mermaid 図の正確性、既存設計との矛盾がないかを確認する | 評価観点ごとの所見が記載されている。指摘事項があれば重大度（高/中/低）が付与されている | 🔴 | ⬜ |
| E-003 | 後続施策「ロール定義の実装」のインプットとしての十分性を評価する。ロール定義ファイルを作成・修正するために必要な情報が設計に含まれているかを確認する | 後続施策がブロックされるギャップがあれば明記されている。インプットとしての十分性が判定されている | 🔴 | ⬜ |
| E-004 | 評価中に新たに発見した課題を `07_issues.md` へ起票し、施策をまたぐ課題を `プロセス改善_課題管理.csv` へ転記する | 全課題に `[転記済 ISS-XXX]` または「転記不要」の判断が付いている | 🔴 | ⬜ |

---
**作成者**: L1
**最終更新**: 2026-03-01
