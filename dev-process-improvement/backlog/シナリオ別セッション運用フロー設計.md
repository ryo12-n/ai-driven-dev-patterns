# シナリオ別セッション運用フロー設計

## メタ情報

| 項目 | 内容 |
|------|------|
| **優先度** | 🔴 高 |
| **ステータス** | 候補 |
| **起票日** | 2026-03-01 |

## 課題・背景

施策「コード開発ワークフロー設計の探索」で、既存7ロールを活用した開発ワークフローのロール間連携設計（セッション内部の動き）は完了した。しかし、以下の上位レイヤーの設計が不足している。

1. **人間のエントリーポイントが未定義**: 現在の設計では施策管理 L1 → dev_manager の指示系統を前提としているが、開発フローは施策管理から独立し、人間が直接エントリーする方針に変更された。人間が「やりたいこと」を入力したら適切なセッションが起動する仕組みが必要
2. **シナリオ別のセッション構成が未設計**: 「何をやりたいか」によって起動すべきセッション構成（どのロールをどう組み合わせるか）が異なるが、そのルーティングロジックが未定義
3. **レビュー・評価の深度設計が未決**: 開発セッション内での軽量レビュー（reviewer ロール起動）と、独立評価セッション（別セッションでのフルレビュー）の使い分け基準が必要

### 壁打ちで合意したシナリオ分類（5シナリオ）

| # | シナリオ | 概要 |
|---|---------|------|
| 1 | 要件定義〜設計 | ユーザーの要求を要件に落とし込み、設計ドキュメントを作成する |
| 2 | 実施計画作成〜開発実施（軽量レビュー込み） | 設計をもとに実施計画を立て、ロール分担で開発を実施する。セッション内で reviewer を起動して軽量レビューを行う |
| 3 | 独立評価（オプション） | 重大変更・リリース前に起動する独立した評価セッション。開発セッションとは別コンテキストで客観的に評価する |
| 4 | ドキュメント整合性 | 既存のドキュメントを実態（コード・設計・運用）と照合し、整合性を合わせる |
| 5 | リファクタリング・最適化 | コード品質改善・パフォーマンス最適化を行う |

### レビュー方式（ハイブリッド方式で合意）

- **軽量レビュー**: 開発セッション内で reviewer ロールを起動。日常的な開発で実施
- **独立評価**: 別セッションでフルレビュー。重大変更・リリース前・セキュリティ要件ありの場合にオプションで起動

## 期待効果

- 人間が「やりたいこと」を入力するだけで、適切なセッション構成が自動的に決まる運用フローが確立される
- シナリオ別に最適化されたロール構成・フロー・品質ゲートが定義され、開発効率と品質のバランスが取れる
- 施策管理ワークフロー（dev-process-improvement）と開発ワークフローの責務分界が明確になる
- 前施策「コード開発ワークフロー設計の探索」のロール間連携設計を活かしつつ、その上位レイヤーが補完される

## 補足・参考情報

- 参照: `docs/design/dev-workflow-overview.md`（概要設計）、`docs/design/dev-workflow-detail.md`（詳細設計）
- 参照: `dev-process-improvement/initiatives/_archive/コード開発ワークフロー設計の探索/08_gate_review.md` の知見#9, #10
- 関連バックログ: 「コード開発ワークフロー・ロール定義の実装」— 本施策の成果をインプットとしてロール定義の実装を行う。**本施策（セッション運用フロー設計）を先行させることを推奨**
- 施策管理（dev-process-improvement の L1/L2）は引き続き使用するが、開発フロー内では参照しない（独立）
