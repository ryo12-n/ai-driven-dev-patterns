# 開発プロセス改善ワークフロー

## 全体フロー図

```
┌─────────────────────────────────────────────────────────────────┐
│                        L1 マネージャー                           │
│                                                                 │
│  ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐    │
│  │  調査    │──▶│ 方針決定  │──▶│ 計画作成  │──▶│ タスク作成│    │
│  └──────────┘   └──────────┘   └──────────┘   └─────┬────┘    │
│                                                       │         │
│       ┌───────────────────────────────────────────────┘         │
│       ▼                                                         │
│  02_tasks.md を L2 に引き渡し                                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
        │
        ▼
┌─────────────────────────────────────────────────────────────────┐
│                     L2 ワーカー（実施）                           │
│                                                                 │
│  ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐    │
│  │実施計画  │──▶│ タスク実施 │──▶│ 作業記録  │──▶│レポート作成│    │
│  └──────────┘   └──────────┘   └──────────┘   └─────┬────┘    │
│                                                       │         │
│       課題発見時 → 07_issues.md に一時メモ → 施策完了時に CSV へ転記  │
│                                                       │         │
└───────────────────────────────────────────────────────┼─────────┘
        │                                               │
        ▼                                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                        L1 マネージャー                           │
│                                                                 │
│  ┌──────────┐   ┌──────────┐   ┌──────────┐   ┌──────────┐    │
│  │レポート  │──▶│ 課題確認  │──▶│ ギャップ  │──▶│フェーズ   │    │
│  │確認      │   │          │   │ 認識      │   │ゲート判定  │    │
│  └──────────┘   └──────────┘   └──────────┘   └─────┬────┘    │
│                                                       │         │
│       ┌───────────────────────────────────────────────┘         │
│       ▼                                                         │
│  判定結果に応じて:                                                │
│    通過      → 次フェーズのタスクを 02_tasks.md に追記             │
│    条件付き  → 条件対応タスクを追記 → L2 に差し戻し                 │
│    差し戻し  → 計画修正 → 02_tasks.md 修正 → L2 に差し戻し         │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## ファイルのオーナーシップ

| ファイル | L1 | L2(実施) | L2(評価) |
|---------|-----|---------|---------|
| 00_proposal.md | ✏️ 作成・編集 | 👁️ 読取 | 👁️ 読取 |
| 01_plan.md | ✏️ 作成・編集 | 👁️ 読取 | 👁️ 読取 |
| 02_tasks.md | ✏️ 作成・編集 | ☑️ チェック更新可 | 👁️ 読取 |
| 03_work_log.md | 👁️ 読取 | ✏️ 作成・編集 | 👁️ 読取 |
| 04_work_report.md | 👁️ 読取 | ✏️ 作成・編集 | 👁️ 読取 |
| 05_eval_plan.md | 👁️ 読取 | 👁️ 読取 | ✏️ 作成・編集 |
| 06_eval_report.md | 👁️ 読取 | 👁️ 読取 | ✏️ 作成・編集 |
| 07_issues.md | 📝 転記判断・CSV更新 | ✏️ 一時メモ起票 | ✏️ 一時メモ起票 |
| 08_gate_review.md | ✏️ 作成・編集 | 👁️ 読取 | 👁️ 読取 |
| プロセス改善_課題管理.csv | ✏️ 対応方針確定・タスク化 | ✏️ 転記 | ✏️ 転記 |

## セッション間の連携ポイント

1. **L1 → L2(実施)**: `02_tasks.md` にタスクを書く → L2が読む
2. **L2(実施) → L2(評価)**: `04_work_report.md` を書く → L2(評価)が読む
3. **L2(実施/評価) → L1**: `04_work_report.md` + `06_eval_report.md` + `07_issues.md` を書く → L1が読む
4. **L1 → L2**: `08_gate_review.md` で判定 → 必要に応じて `02_tasks.md` を更新 → L2が読む

## 課題管理フロー

### 起票（L2 が行う）
1. 施策実施中に課題・知見・リスクを発見したら `07_issues.md` に一時メモを書く
2. 施策完了時または定期レビュー時に、施策をまたいで再発しうる課題を `プロセス改善_課題管理.csv` へ転記する
3. 転記した項目は `07_issues.md` に `[転記済 ISS-XXX]` を記して削除する

### 対応方針確定・タスク化（L1 が行う）
1. CSV の `ステータス = 起票` の行を確認する
2. 対応するかどうかを判断し、`対応方針_確定` 列と `確定日` 列を埋める
3. タスク化する場合は `ステータス = タスク化済`、`タスク化先` 列に施策名・タスクIDを記入する
4. 対応しない場合は `ステータス = 対応不要` にして `備考` に理由を書く

### CSV の列定義

| 列名 | 説明 | 値の例 |
|------|------|--------|
| ID | ISS-001 から連番 | ISS-001 |
| 起票日 | YYYY-MM-DD | 2026-02-21 |
| カテゴリ | 課題の分類 | ツール / プロセス / ドキュメント / テンプレート |
| 種別 | 課題の性質 | 不具合 / 改善提案 / リスク / 知見 |
| タイトル | 1行のタイトル | - |
| 課題詳細 | 何が起きたか（3行以内推奨） | - |
| 対応方針_案 | 起票時点の案（`[案]` 接頭辞で未確定を明示） | [案] テンプレートに注意書きを追加する |
| ステータス | 対応状況 | 起票 / 方針確定 / タスク化済 / クローズ / 対応不要 |
| 優先度 | 高 / 中 / 低 | 中 |
| 関連施策 | 発生した施策名 | openspec-process-integration |
| タスク化先 | タスクIDや施策名 | - |
| 対応方針_確定 | L1 が確定した対応内容 | - |
| 確定日 | YYYY-MM-DD | - |
| 備考 | 補足コメント | - |
