# セッション運用ガイド

## セッション種別の概要

このプロジェクトには **2種類のセッション** があります。

| 種別 | 目的 | 頻度 | 担当ファイル |
|------|------|------|------------|
| **イニシアティブセッション** | 改善施策を計画・実施・評価する | 施策ごと | `initiatives/<施策名>/` |
| **トリアージセッション** | inbox・backlog・CSVを走査・整理する | 任意（気が向いたとき） | `triage/YYYYMMDD/` |

---

## 1. イニシアティブセッション

改善施策を実際に進めるセッションです。L1（マネージャー）と L2（ワーカー/評価）の
3セッション体制で動きます。

### セッション構成

```
L1 マネージャー      : 計画・タスク作成・ゲート判定
L2 ワーカー（実施）  : タスク実行・作業記録・レポート作成
L2 ワーカー（評価）  : 成果物の品質評価
```

### 起動方法

**方法1: Claude Code Agent Teams（推奨）**

```
あなたはL1（マネージャー）です。
以下のチームを作成してください:

1. L2-worker（実施セッション）: タスクの実行と作業記録を担当
2. L2-evaluator（評価セッション）: 作業成果の評価を担当

initiatives/[施策名]/ のファイルに従って作業を進めてください。
L2にはplan approvalを要求してください。
```

**方法2: 手動で3セッション起動**

```bash
# ターミナル1: L1 マネージャー
cd dev-process-improvement
claude
# → 「あなたはL1（マネージャー）セッションです。CLAUDE.mdと.claude/rules/l1-manager.mdに従ってください。」

# ターミナル2: L2 ワーカー（実施）
cd dev-process-improvement
claude
# → 「あなたはL2（実施）セッションです。.claude/rules/l2-worker.mdに従ってください。」

# ターミナル3: L2 ワーカー（評価）
cd dev-process-improvement
claude
# → 「あなたはL2（評価）セッションです。.claude/rules/l2-evaluator.mdに従ってください。」
```

**方法3: Claude Projects（Web版）**

Claude Projectsで3つのプロジェクトを作成し、各プロジェクトのカスタム指示に
CLAUDE.md + 該当するルールファイルの内容を設定する。

### フロー

```
L1: 提案(00) → 計画(01) → タスク作成(02)
                                  ↓
L2(実施): 作業履歴(03) → 実施 → 作業レポート(04)
                                  ↓
L2(評価): 評価計画(05) → 評価レポート(06) → 課題起票(07)
                                  ↓
L1: ゲート判定(08) → 通過 / 条件付き / 差し戻し
```

### チェックリスト

**開始時**
- [ ] `initiatives/_template/` をコピーして `initiatives/<施策名>/` を作成
- [ ] L1: `00_proposal.md` を記入
- [ ] L1: `01_plan.md` を記入
- [ ] L1: `02_tasks.md` を記入
- [ ] L2セッションを起動

**実施中**
- [ ] L2(実施): `03_work_log.md` に実施計画サマリを記載
- [ ] L2(実施): タスクを実施し、作業ログを追記
- [ ] L2(実施): `04_work_report.md` を作成
- [ ] L2(評価): `05_eval_plan.md` を作成
- [ ] L2(評価): `06_eval_report.md` を作成
- [ ] L2(実施/評価): 課題があれば `07_issues.md` に起票

**ゲート判定**
- [ ] L1: `04`, `06`, `07` を確認
- [ ] L1: `08_gate_review.md` に判定を記入
- [ ] L1: 必要に応じて `01_plan.md`, `02_tasks.md` を修正
- [ ] 判定結果に応じて次フェーズへ or 差し戻し

---

## 2. トリアージセッション

inbox・backlog・課題管理CSVを走査・整理する定期メンテナンスセッションです。
施策を「作る・動かす」のではなく、積み上がったアイテムを「捌く・整理する」ことが目的です。

### 起動方法

```bash
cd dev-process-improvement
claude
# → 「あなたはトリアージセッションです。.claude/rules/triage.mdに従ってください。」
```

### フロー

```
1. 事前調査      → triage/YYYYMMDD/00_pre_investigation.md を埋める
                   （inbox/backlog/CSV/initiative の現状把握）
2. 実施計画作成  → triage/YYYYMMDD/01_plan.md を作成
                   （今回の重点・走査タスクを決める）
3. 実施          → inbox / backlog / CSV を走査・分類
4. 作業履歴      → triage/YYYYMMDD/02_work_log.md に記録
5. レポート作成  → triage/YYYYMMDD/03_report.md を作成 → PR として提出
6. ユーザーレビュー
7. backlog 反映  → 承認後に backlog/ideas.md を更新
8. 課題起票      → 課題と確定したものを プロセス改善_課題管理.csv に直接起票
```

> **課題起票の考え方**
> トリアージは「整理・判断するセッション」のため、L2セッションのような一時メモファイル
> （`07_issues.md`）は使わず、CSV に直接起票します。
> まだ判断できない粒度の粗いメモは `02_work_log.md` の「判断・気づき」欄に書いておき、
> 走査完了後に課題と確定したものだけ CSV に起票してください。

### チェックリスト

**開始時**
- [ ] `triage/_template/` をコピーして `triage/YYYYMMDD/` を作成
- [ ] `00_pre_investigation.md` の穴埋めを実施（現状把握）

**実施中**
- [ ] `01_plan.md` を作成（今回の重点を決める）
- [ ] 各タスクを実施し、`02_work_log.md` に追記
  - 粒度の粗いメモは `02_work_log.md` の「判断・気づき」欄に書いておく
- [ ] `03_report.md` を作成

**完了時**
- [ ] `03_report.md` を PR として作成し、ユーザーにレビューを依頼
- [ ] レビュー承認後、backlog への変更内容をユーザーに確認
- [ ] 課題があれば `プロセス改善_課題管理.csv` に直接起票
