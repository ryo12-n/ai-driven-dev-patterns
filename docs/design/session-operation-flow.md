# セッション運用フロー設計

> **本ドキュメントはハブページです。**
> 設計内容は以下の3ファイルに分割されています。各ファイルへのリンクとセクション概要を参照してください。

---

## 概要

本ドキュメント群は、コード開発ワークフローにおける**セッション外部**の運用フロー設計をまとめたものである。人間のエントリーポイントからセッションが起動し、完了するまでの上位レイヤーを定義する。

**3ドキュメントによる設計カバー範囲**:

| ドキュメント | 設計対象 | スコープ |
|-------------|---------|---------|
| `dev-workflow-overview.md` | 概要設計 | ロール互換性分析、TDD戦略、ロールギャップ分析 |
| `dev-workflow-detail.md` | セッション**内部**設計 | 3シナリオの詳細フロー、ロール間連携プロトコル、ロール修正提案、dev_manager 要件定義 |
| **本ドキュメント群** | セッション**外部**設計 | ライフサイクルモデル、ディスパッチャー/ルーター、エントリーポイント、5シナリオの運用フロー、横断的関心事 |

---

## 分割ファイル一覧

### 基盤編: [session-flow-foundations.md](session-flow-foundations.md)

基盤となる概念・モデル・仕様を定義する。

| セクション | 内容 |
|-----------|------|
| §1 概要 | ドキュメントの位置づけ、既存ドキュメントとの関係、用語定義 |
| §2 ライフサイクルモデル | 7ステージ状態遷移（Initializing〜Failed）、設計原則 |
| §3 ディスパッチャー/ルーター | 意図分類フロー、シナリオ判定ロジック、セッション型レジストリ |
| §4 エントリーポイント仕様 | 入力インターフェース、起動トリガー、dev_manager との責務分界 |

### シナリオ編: [session-flow-scenarios.md](session-flow-scenarios.md)

5つのシナリオ別セッションフローを定義する。

| セクション | 内容 |
|-----------|------|
| §5 シナリオ1: 要件定義→設計 | 要件の構造化と設計ドキュメント作成のセッションフロー |
| §6 シナリオ2: 実施計画→開発 | 新機能開発・バグ修正・軽量レビューを含む開発セッションフロー |
| §7 シナリオ3: 独立評価 | 開発バイアスを排除した独立品質評価セッションフロー |
| §8 シナリオ4: ドキュメント整合性 | ドキュメントと実態の乖離検知・修正セッションフロー |
| §9 シナリオ5: リファクタリング・最適化 | 振る舞い不変を保証した品質改善セッションフロー |

### 応用編: [session-flow-advanced.md](session-flow-advanced.md)

横断的関心事・既存設計との統合マッピング・まとめを定義する。

| セクション | 内容 |
|-----------|------|
| §10 ハイブリッドレビュー方式 | 軽量レビューと独立評価の使い分け判定基準 |
| §11 横断的関心事 | 状態永続化、コンテキスト引き継ぎ、エラー回復（5パターン） |
| §12 既存設計との統合マッピング | dev-workflow-overview/detail との対応関係（デザインデルタ表） |
| §13 まとめと次ステップ | 達成事項、後続タスク（ロール定義の実装）、既知の制約 |

---

## 読み方ガイド

- **初めて読む場合**: 基盤編（§1-§4）→ シナリオ編（§5-§9）→ 応用編（§10-§13）の順で読む
- **特定のシナリオを確認したい場合**: シナリオ編から該当セクションを直接参照する
- **既存設計との関係を確認したい場合**: 応用編 §12 の統合マッピングを参照する
- **運用・エラー対応を確認したい場合**: 応用編 §11 の横断的関心事を参照する

---

**作成日**: 2026-03-01
**関連設計タスク**: シナリオ別セッション運用フロー設計（Phase 1, Phase 2, Phase 3）
**前提ドキュメント**: `docs/design/dev-workflow-overview.md`, `docs/design/dev-workflow-detail.md`
